\usepackage{hyperref}







%%%%%%%%%%%%%%%%%%%%%%%%%%%   shadedtext   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{color}

%	%
%	%\definecolor{BoxColor}{rgb}{0.9, 0.9, 0.98}
%	%\newbox\mycolorbox
%	%\newenvironment{shadedtext}{\bigskip%
%	%	\setbox\mycolorbox\vbox\bgroup
%	%	\hsize=\dimexpr\textwidth-2\fboxsep\relax}{%
%	%	\egroup
%	%	\loop
%	%	\ifdim\ht\mycolorbox>\dimexpr\textheight-\pagetotal-2\fboxsep-2\fboxrule\relax
%	%	\noindent\colorbox{BoxColor}{\vsplit\mycolorbox to \dimexpr\textheight-\pagetotal-2\fboxsep-2\fboxrule\relax}%
%	%	\eject
%	%	\repeat
%	%	\noindent\colorbox{BoxColor}{\vsplit\mycolorbox to \ht\mycolorbox}\bigskip}
%	
%	
%	%\def\temp{#1}\ifx\temp\empty
%	%<EMPTY>%
%	%\else
%	%<NON EMPTY>%
%	%\fi



%\definecolor{BoxColor}{rgb}{0.9, 0.9, 0.98}
%\newbox\mycolorbox
%\newenvironment{shadedtext}{\bigskip%
%	\setbox\mycolorbox\vbox\bgroup
%	\hsize=\dimexpr\textwidth-2\fboxsep\relax}{%
%	\egroup
%	\loop
%	\ifdim\ht\mycolorbox>\dimexpr\textheight-\pagetotal-2\fboxsep-2\fboxrule\relax
%	\noindent\colorbox{BoxColor}{\vsplit\mycolorbox to \dimexpr\textheight-\pagetotal-2\fboxsep-2\fboxrule\relax}%
%	\eject
%	\repeat
%	\noindent\colorbox{BoxColor}{\vsplit\mycolorbox to \ht\mycolorbox}\bigskip}

\definecolor{BoxColor}{rgb}{0.9, 0.9, 0.98}
\newcommand{\enableshadedtext}[1][BoxColor]
{
\newbox\mycolorbox
\newenvironment{shadedtext}{\bigskip%
	\setbox\mycolorbox\vbox\bgroup
	\hsize=\dimexpr\textwidth-2\fboxsep\relax}{%
	\egroup
	\loop
	\ifdim\ht\mycolorbox>\dimexpr\textheight-\pagetotal-2\fboxsep-2\fboxrule\relax
	\noindent\colorbox{#1}{\vsplit\mycolorbox to \dimexpr\textheight-\pagetotal-2\fboxsep-2\fboxrule\relax}%
	\eject
	\repeat
	\noindent\colorbox{#1}{\vsplit\mycolorbox to \ht\mycolorbox}\bigskip}
}


%%%% Page color
\definecolor{cream}{rgb}{1.0, 0.99, 0.82}
\definecolor{floralwhite}{rgb}{1.0, 0.98, 0.94}
\definecolor{ghostwhite}{rgb}{0.97, 0.97, 1.0}
\definecolor{honeydew}{rgb}{0.94, 1.0, 0.94}
\definecolor{isabelline}{rgb}{0.96, 0.94, 0.93}
\definecolor{magnolia}{rgb}{0.97, 0.96, 1.0}
\definecolor{mintcream}{rgb}{0.96, 1.0, 0.98}
\definecolor{oldlace}{rgb}{0.99, 0.96, 0.9}
\definecolor{whitesmoke}{rgb}{0.96, 0.96, 0.96}

\definecolor{whitegray}{rgb}{0.98, 0.98, 0.98}

\usepackage{afterpage,pagecolor}
\newcommand{\currentpagecolor}[1][whitegray]{
\newpagecolor{#1}\afterpage{\restorepagecolor}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%    insert code    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{listings}


\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
%
\lstset{frame=tb,
	language=python,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=none,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}

%%%% USAGE :
%\begin{latin}
%	\noindent code c++:
%	\lstinputlisting[language=c++]{source.cpp}
%\end{latin}

\newcommand{\code}[3]{
	\begin{latin}
		\noindent #3
		\lstinputlisting[language=#2]{#1}
	\end{latin}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   Boxtext     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% select and press ctrl+T to uncomment
%\usepackage{collectbox}
%\makeatletter
%\newcommand{\boxtext}{%
%		\collectbox{%
%		\setlength{\fboxsep}{1pt}%
%		\fbox{\BOXCONTENT}%
%	}%
%}
%\makeatother

%\newcommand{\foo}[2][def]{Mandatory: #2; optional: #1}
%%%%
\usepackage{xcolor}
\newcommand{\textbox}[2][.]{
	$
	\colorlet{oldcolor}{.}
	{\color{#1}
	\boxed{\color{oldcolor}\mbox{{\rl{#2}}}}
	}
	$
} %% used \rl for xepersian with color

\newcommand{\textboxlatin}[2][.]{
	$
	\colorlet{oldcolor}{.}
	{\color{#1}
	\boxed{\color{oldcolor}\mbox{#2}} 
	}
	$
} %% used for latin with color

%\newcommand{\textbox}[1]{$\boxed{\mbox{\rl{#1}}}$} %% used \rl for xepersian
%\newcommand{\textboxlatin}[1]{$\boxed{\mbox{#1}}$} %% used for latin

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   def, thm , test   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsthm}

\newtheorem{thm}{قضیه}[section]
\newtheorem{Def}{تعریف}[section]
%	\newtheorem{test}{تمرین}[chapter]


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   math commands  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath,amsfonts,amssymb}
%\usepackage{mathtools}

\newcommand{\dd}{\, \mathbf{d} }
\newcommand{\prd}{\triangleright\!\!\triangleleft\,}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   usefull commands   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%--------------- Line -------------
\newcommand{\hlineshort}[1][\textwidth]{
	\noindent\rule{#1}{0.4pt}%
}
\newcommand{\hlinelong}[1][0.4pt]{\noindent\makebox[\linewidth]{\rule{\paperwidth}{#1}}}
%%%% try : \hlinelong, \hlineshort, \hlineshort[1cm]
%%--------------- The End --------------
\newcommand{\theend}[1][پایان]{
	\begin{center} \vspace{1.5cm}\huge #1\end{center}
}
\newcommand{\theendlatin}[1][The End]{
	\begin{center} \vspace{1.5cm}\huge #1\end{center}
}
%%--------------- New Line -------------
\newcommand{\newlinef}{
%	\vspace{0.8cm}
\vspace\baselineskip
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  xepersian and fonts %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[computeautoilg=on]{xepersian}
\settextfont{Yas}
\setdigitfont{Yas}

\defpersianfont\nast{IranNastaliq}
\defpersianfont\sols{XB Sols}
\defpersianfont\naz{B Nazanin}
\defpersianfont\yas{Yas}


